version: '3.7'

services:
    plex:
        image: linuxserver/plex
        network_mode: host
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - VERSION=docker
        volumes:
            - ${CONFIG_DIR:-./config}/plex:/config
            - ${TELEVISION_DIR}:/data/tv/shows
            - ${MOVIES_DIR}:/data/movies
            - ${TRANSCODE_DIR}:/transcode
        restart: unless-stopped
    ombi:
        image: linuxserver/ombi
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/ombi:/config
        ports:
            - 3579:3579
        restart: unless-stopped
    radarr:
        image: linuxserver/radarr
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/radarr:/config
            - ${MOVIES_DIR}:/movies
            - ${DOWNLOAD_DIR}:/downloads
        ports:
            - 7878:7878
        restart: unless-stopped
    sonarr:
        image: linuxserver/sonarr
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID={GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/sonarr:/config
            - ${TELEVISION_DIR}:/tv
            - ${DOWNLOAD_DIR}:/downloads
        ports:
            - 8989:8989
        restart: unless-stopped
    deluge:
        image: linuxserver/deluge
        network_mode: host
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/deluge:/config
            - ${DOWNLOAD_DIR}:/downloads
        restart: unless-stopped
    tor:
        networks:
            - server
        image: osminogin/tor-simple
    organizr:
        image: lsiocommunity/organizr
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/organizr:/config
        ports:
            - 80:80
        restart: unless-stopped
    jackett:
        image: linuxserver/jackett
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/jackett:/config
            - ${DOWNLOAD_DIR}:/downloads
        ports:
            - 9117:9117
        restart: unless-stopped
        networks:
            - server
    bazarr:
        image: linuxserver/bazarr
        environment:
            - PUID=${USER_ID:?USER_ID}
            - PGID=${GROUP_ID:?GROUP_ID}
            - TZ=${TIMEZONE:-Europe/London}
        volumes:
            - ${CONFIG_DIR:-./config}/bazarr:/config
            - ${MOVIES_DIR}:/movies
            - ${TELEVISION_DIR}:/tv
        ports:
            - 6767:6767
        restart: unless-stopped

networks:
    server:
